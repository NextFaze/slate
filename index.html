<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Xerts API Documentation</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://api.xerts.io/api/'>Get an API Key</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h4 id="last-updated-21-july-2016">Last updated: 21 July 2016</h4>

<h1 id="introduction">Introduction</h1>

<p>Welcome to the Xerts REST API.</p>

<p>This API is designed to work with the Xerts app and also allow 3rd party developers access to the Xerts coupon system.</p>

<h2 id="user-flow">User Flow</h2>

<p>When a user walks to a location with his/her app, they are presented with a variety of coupon registration methods at the point of sale (POS). When using one of these registration methods, a web address with a special unique identifier is relayed to the user&rsquo;s device. The user&rsquo;s device then receives access to a range of &lsquo;coupons&rsquo; which are redeemable on the spot.</p>

<p>Staff at the site can manually redeem the coupon with an interface behind the counter. This is done via a 5-digit redeem code shown on the user&rsquo;s device. The communication and validation process may change in the future, however this is the current way.</p>

<p><a href="images/xerts-user-flow-07062016.png"><img alt="User flow diagram" src="images/xerts-user-flow-07062016.png" /></a></p>

<h2 id="data-model">Data model</h2>

<p>The following provides an example of the way the various data objects are related in the Xerts API:</p>

<p><a href="images/xerts-api-data-model.png"><img alt="Data Model Diagram" src="images/xerts-api-data-model.png" /></a></p>

<h2 id="authentication">Authentication</h2>

<p>Xerts API requests require a <code class="prettyprint">API-Key</code>. To get an API-Key for Xerts, email xerts@xped.com.</p>

<p>Include the API-Key in every request as a HTTP header.</p>

<blockquote>
<p>Like so:</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST https://api.xerts.io/api/ <span class="se">\</span>
  -H <span class="s2">"API-Key: '&lt;Insert API Key here&gt;'"</span>
</code></pre>

<blockquote>
<p>The above shell command returns the following response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"started"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-07T09:02:35.527Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"uptime"</span><span class="p">:</span><span class="w"> </span><span class="mf">55190.337</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="definitions">Definitions</h2>

<table><thead>
<tr>
<th>Term</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>Vendor</td>
<td>The Advertising organisation who creates offers to be distributed as coupons at one or more sites.</td>
</tr>
<tr>
<td>Offer</td>
<td>A template created by a vendor that can be assigned to one or multiple sites for registration by Xerts POS users</td>
</tr>
<tr>
<td>Coupon</td>
<td>An instance of an Offer which is allocated to a user&rsquo;s device</td>
</tr>
<tr>
<td>Member</td>
<td>A member is a user in the system. Can be one of &#39;admin&rsquo;, &#39;appProvider&rsquo;, &#39;siteOwner&rsquo;, &#39;vendorOwner&rsquo;.</td>
</tr>
<tr>
<td>Site</td>
<td>A physical location of an Xerts device - owners can have multiple sites.</td>
</tr>
<tr>
<td>App Provider</td>
<td>A user who provides an application (web/iOS/Android) to access the API with an API Key</td>
</tr>
<tr>
<td>Site Owner</td>
<td>A Client User who has one or multiple sites (physical sales locations).</td>
</tr>
<tr>
<td>Vendor Owner</td>
<td>A User that has control over a vendor organisation and it&rsquo;s offers.</td>
</tr>
</tbody></table>

<h1 id="client-action-endpoints">Client Action Endpoints</h1>

<h2 id="create-coupons-for-device-at-site">Create Coupons for Device at Site</h2>

<blockquote>
<p>Use this command:</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST https://api.xerts.io/api/siteOffers/:siteId/device/:deviceId <span class="se">\</span>
  -H <span class="s2">"API-Key: '&lt;Insert API Key here&gt;'"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9e6c7f20-27a0-11e6-82bf-27ccd35b24dd"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"redeemCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Q70Q7"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"deviceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89611c2c-f016-4e3b-8078-6abe40550552"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"siteOfferId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"748ec710-22e8-11e6-953c-b1e050c9762d"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"offer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"748d1960-22e8-11e6-953c-b1e050c9762d"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Port Francis"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ut sint qui sint. Corrupti autem incidunt iure nisi. At nulla deserunt saepe odio et esse adipisci. In harum ipsum rerum dolor est illo numquam et.\n \rMinus aut laboriosam accusantium dolores. Blanditiis assumenda eaque voluptas fuga fugit eius ipsum labore est. Non debitis est suscipit consectetur aut. Labore est vitae sed et odio quas explicabo ipsa qui. Perferendis vel aut.\n \rSed voluptatem temporibus. Aut voluptatibus voluptates qui aliquid hic et iusto quis. Eos sit nesciunt quod laudantium aspernatur sequi earum. Et occaecati eos cupiditate minima et. Facilis quaerat excepturi quod at eum quo neque consequuntur aliquid. Id culpa non."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"styleBorderColor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"grey"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"styleBackgroundColor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"salmon"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"featureImage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://lorempixel.com/720/300/"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"vendorId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7461eab0-22e8-11e6-953c-b1e050c9762d"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>If the siteId does not exist, JSON error is returned:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">404</span><span class="p">,</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Didnt return anything."</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This generates coupons for a device at a specific site. Use <code class="prettyprint">:siteId</code> for the Site ID and <code class="prettyprint">:deviceId</code> for the Device ID. If the device ID does not already exist in the sytem, it will be created.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.xerts.io/api/siteOffers/:siteId/device/:deviceId</code></p>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>ID</th>
<th>Description</th>
</tr>
</thead><tbody>
</tbody></table>

<h2 id="get-coupons-for-device-all-or-for-site">Get Coupons for Device (all or for site)</h2>

<blockquote>
<p>Use this command to get every coupon for device:</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET https://api.xerts.io/api/coupons/site/all/device/:deviceId <span class="se">\</span>
  -H <span class="s2">"API-Key: '&lt;Insert API Key here&gt;'"</span>
</code></pre>

<blockquote>
<p>Use this command to get only site-specific coupons for device:</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET https://api.xerts.io/api/coupons/site/:siteId/devices/:deviceId <span class="se">\</span>
  -H <span class="s2">"API-Key: '&lt;Insert API Key here&gt;'"</span>
</code></pre>

<blockquote>
<p>The above commands return JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="nt">"redeemCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9CJBG"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"deviceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"255e294a-34dc-4a4e-a80a-d4bb98890e5c"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"siteOfferId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d634c6d0-25ff-11e6-b75e-7bf1c637b078"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"offer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d62fe4d0-25ff-11e6-b75e-7bf1c637b078"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Port Hal"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Perferendis nihil dicta suscipit. Aperiam ex quibusdam error sit molestias quo dolor veniam deleniti. Natus magni molestiae at sint nihil excepturi incidunt. Sequi nobis molestiae asperiores laboriosam suscipit autem est. Quidem eos vitae nesciunt fugit qui sunt. Minus ex alias.\n \rAd maxime sint quam blanditiis. Consequatur tempore aut quia assumenda ea placeat veritatis consequuntur. Quibusdam sed facilis suscipit velit aut voluptate. Quidem est eveniet dignissimos similique laborum dolores. Eos ut quod facere numquam nisi quo ut eum aliquam.\n \rEt corrupti iure facilis possimus repudiandae doloremque omnis repellendus harum. Omnis et impedit tenetur. Fugit quisquam consequatur veniam non nemo id est. Quia id est voluptas et et quia. Occaecati consequuntur ut eaque inventore dolorem distinctio quis aliquam. A temporibus odit ut placeat natus aut ipsam voluptate."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"styleBorderColor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sky blue"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"styleBackgroundColor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"magenta"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"featureImage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://lorempixel.com/720/300/"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"vendorId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d6055260-25ff-11e6-b75e-7bf1c637b078"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
      </span><span class="nt">"redeemCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AO5XW"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"deviceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"255e294a-34dc-4a4e-a80a-d4bb98890e5c"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"siteOfferId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6ead4970-25fe-11e6-9f99-1520fe63256a"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"offer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6eab9bc0-25fe-11e6-9f99-1520fe63256a"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Millershire"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Facilis esse aliquid culpa molestiae illo consectetur animi expedita voluptatum. Exercitationem illum quaerat voluptate laboriosam deserunt commodi provident iure dolorum. Sapiente itaque veritatis.\n \rAb eaque laboriosam. Autem error corporis ullam. A eaque vel perspiciatis maxime aut eos quia enim ea.\n \rEst quia natus. Aperiam modi voluptatem. Quaerat sint enim quas quis dignissimos est. Aliquam nemo et. Ea cupiditate similique aut aut quos eos."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"styleBorderColor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"maroon"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"styleBackgroundColor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lime"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"featureImage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://lorempixel.com/720/300/"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"vendorId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6e7fa9c0-25fe-11e6-9f99-1520fe63256a"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This gets all existing coupons for the device. Be sure to use the <code class="prettyprint">all</code>, otherwise you should use a <code class="prettyprint">siteId</code> to get all site-specific coupons for that device.</p>

<aside class="notice">
Remember, `siteId` is a GUID, and should look something like this: 03548350-25fe-11e6-b93a-dd966e070e71
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.xerts.io/api/coupons/sites/all/devices/:deviceId</code></p>

<p><code class="prettyprint">GET https://api.xerts.io/api/coupons/sites/:siteId/devices/:deviceId</code></p>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>ID</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>

<h2 id="redeem-a-coupon-at-a-site-for-device">Redeem a coupon at a site for device</h2>

<blockquote>
<p>Use this command to get only site-specific coupons for device:</p>
</blockquote>
<pre class="highlight shell"><code>curl -X PUT <span class="se">\ </span>https://api.xerts.io/api/coupons/sites/:siteId/device/:deviceId/redeem/:code <span class="se">\</span>
  -H <span class="s2">"API-Key: '&lt;Insert API Key here&gt;'"</span>
</code></pre>

<blockquote>
<p>The above commands return JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">19</span><span class="p">,</span><span class="w">
    </span><span class="nt">"redeemCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B5Z7E"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"redeemedOn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-30T03:14:18.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"deviceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60ef5b5e-7229-4758-8184-da613de405a9"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"siteOfferId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0583f660-2612-11e6-9206-cd9a11b559ba"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>If the coupon is already redeemed, the following JSON response will boomerang:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">404</span><span class="p">,</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Coupon not found honey. Check if it's already been redeemed."</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint redeems a coupon with redeem code <code class="prettyprint">:code</code> at site with id <code class="prettyprint">siteId</code>.
If the coupon has already been redeemed, an error 404 will be returned.</p>

<aside class="notice">
Remember, `siteId` is a GUID, and should look something like this: 03548350-25fe-11e6-b93a-dd966e070e71
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://api.xerts.io/api/coupons/sites/:siteId/devices/:deviceId/redeem/:code</code></p>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>ID</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>

<h1 id="management-endpoints">Management Endpoints</h1>

<h2 id="create-a-user">Create a User</h2>

<aside class="success">
Post parameters in JSON format in the body of the request: `{ username: &hellip;, email: &hellip;, etc. }`
</aside>

<blockquote>
<p>Use this command:</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST https://api.xerts.io/api/members -d <span class="se">\</span>
  <span class="s2">"{ </span><span class="se">\</span><span class="s2">
    'phone': 'string', </span><span class="se">\</span><span class="s2">
    'firstName': 'string', </span><span class="se">\</span><span class="s2">
    'lastName': 'string', </span><span class="se">\</span><span class="s2">
    'username': 'string', </span><span class="se">\</span><span class="s2">
    'password': 'string', </span><span class="se">\</span><span class="s2">
    'email': 'string', </span><span class="se">\</span><span class="s2">
    'emailVerified': bool, </span><span class="se">\</span><span class="s2">
    'status': 'string', </span><span class="se">\</span><span class="s2">
    'appProvider': true, </span><span class="se">\</span><span class="s2">
    'vendorOwner': false, </span><span class="se">\</span><span class="s2">
    'siteOwner': false </span><span class="se">\</span><span class="s2">
  }"</span> <span class="se">\</span>
  -H <span class="s2">"API-Key: '&lt;Insert API Key here&gt;'"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d426a9c0-22fe-11e6-96a3-bdf7343ebeee"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"023584620"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Micky"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blue"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mblurulez"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bluezey@gmail.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"appProvider"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"vendorOwner"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"siteOwner"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint creates a user.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.xerts.io/api/members</code></p>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>ID</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td>N</td>
<td>String</td>
<td>N</td>
<td>Conforms to User model</td>
</tr>
<tr>
<td>email</td>
<td>Y</td>
<td>String</td>
<td>N</td>
<td>Conforms to User model</td>
</tr>
<tr>
<td>password</td>
<td>Y</td>
<td>String</td>
<td>N</td>
<td>Conforms to User model</td>
</tr>
<tr>
<td>phone</td>
<td>N</td>
<td>String</td>
<td>N</td>
<td>User contact Phone</td>
</tr>
<tr>
<td>vendorOwner</td>
<td>N</td>
<td>String</td>
<td>N</td>
<td>user type is vendor owner - can create new vendors</td>
</tr>
<tr>
<td>siteOwner</td>
<td>N</td>
<td>String</td>
<td>N</td>
<td>user type is site owner - can create sites and manage them</td>
</tr>
<tr>
<td>appProvider</td>
<td>N</td>
<td>String</td>
<td>N</td>
<td>usually an organisation developing an app for 3rd party - appProviders receive API Keys that allow their &#39;App&rsquo; to access teh API.</td>
</tr>
<tr>
<td>firstName</td>
<td>N</td>
<td>String</td>
<td>N</td>
<td>First Name</td>
</tr>
<tr>
<td>lastName</td>
<td>N</td>
<td>String</td>
<td>N</td>
<td>Last Name</td>
</tr>
</tbody></table>

<h2 id="log-a-user-in">Log a user in</h2>

<p>This endpoint logs a user in.</p>

<blockquote>
<p>Use this command:</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST https://api.xerts.io/api/members/login -d <span class="se">\</span>
  <span class="s2">"{ </span><span class="se">\</span><span class="s2">
    'email': 'string', </span><span class="se">\</span><span class="s2">
    'password': 'string'
  }"</span> <span class="se">\</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QvS1bIt6WkhA6rCZXpUDnFnzszaU0WZBW0RWNtEMCqGZ4iOZ2Mc9EFKJsTmt1czU"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"ttl"</span><span class="p">:</span><span class="w"> </span><span class="mi">1209600</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-26T05:17:55.231Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d426a9c0-22fe-11e6-96a3-bdf7343ebeee"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>The <code class="prettyprint">id</code> is an authentication token. Use this token in request headers: <code class="prettyprint">{ Authentication: QvS1bIt6WkhA6rCZXpUDnFnzszaU0WZBW0RWNtEMCqGZ4iOZ2Mc9EFKJsTmt1czU }</code></p>
</blockquote>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.xerts.io/api/members/login</code></p>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>ID</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>Y</td>
<td>String</td>
<td>N</td>
<td>user&rsquo;s email address</td>
</tr>
<tr>
<td>password</td>
<td>Y</td>
<td>String</td>
<td>N</td>
<td>users&rsquo;s password</td>
</tr>
</tbody></table>

<h2 id="create-a-vendor-for-user">Create a Vendor for User</h2>

<blockquote>
<p>Use this command:</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST https://api.xerts.io/api/members/:id/vendors -d
  <span class="s2">"{ </span><span class="se">\</span><span class="s2">
    'vendorName': 'string', </span><span class="se">\</span><span class="s2">
    'headOfficeAddress1': 'string', </span><span class="se">\</span><span class="s2">
    'headOfficeAddress2': 'string', </span><span class="se">\</span><span class="s2">
    'headOfficeZipcode': 'string', </span><span class="se">\</span><span class="s2">
    'headOfficeCity': 'string', </span><span class="se">\</span><span class="s2">
    'headOfficeCountry': 'string', </span><span class="se">\</span><span class="s2">
    'headOfficePhone': 'string', </span><span class="se">\</span><span class="s2">
    'description': 'string' </span><span class="se">\</span><span class="s2">
  }"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: &lt;Authorization key&gt;"</span> <span class="se">\</span>
  -H <span class="s2">"API-Key: '&lt;Insert API Key here&gt;'"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9e3b8410-27a0-11e6-82bf-27ccd35b24dd"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"vendorName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kihn, Lang and Kub"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"headOfficeAddress1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"762 Alexane Key"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"headOfficeAddress2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt. 160"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"headOfficeZipcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"66893"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"headOfficeCity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rubietown"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"headOfficeCountry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Argentina"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"headOfficePhone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1-653-021-8946 x487"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sint tenetur consequatur qui aperiam debitis recusandae ea nihil blanditiis. Eos fugiat rerum mollitia ea. In iusto ut exercitationem ducimus. Fugiat quis quis sit et aliquid ut modi id."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"ownerId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9e1118b0-27a0-11e6-82bf-27ccd35b24dd"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint creates a vendor for user.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.xerts.io/api/members/:id/vendors</code></p>

<aside class="notice">
`id` is always a GUID. Replace this with the member with `id` you are creating a
vendor for.
</aside>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>ID</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>vendorName</td>
<td>Y</td>
<td>String</td>
<td>N</td>
<td>Name of the organisation</td>
</tr>
<tr>
<td>headOfficeAddress1</td>
<td>Y</td>
<td>String</td>
<td>N</td>
<td>Address First line</td>
</tr>
<tr>
<td>headOfficeAddress2</td>
<td>N</td>
<td>String</td>
<td>N</td>
<td>Address Second line</td>
</tr>
<tr>
<td>headOfficeAddress3</td>
<td>N</td>
<td>String</td>
<td>N</td>
<td>Address Third line</td>
</tr>
<tr>
<td>headOfficeZipcode</td>
<td>Y</td>
<td>String</td>
<td>N</td>
<td>Zipcode</td>
</tr>
<tr>
<td>headOfficeCity</td>
<td>Y</td>
<td>String</td>
<td>N</td>
<td>City / Province</td>
</tr>
<tr>
<td>headOfficeCountry</td>
<td>Y</td>
<td>String</td>
<td>N</td>
<td>Country</td>
</tr>
<tr>
<td>headOfficePhone</td>
<td>N</td>
<td>String</td>
<td>N</td>
<td>Contact Phone number</td>
</tr>
<tr>
<td>description</td>
<td>Y</td>
<td>String</td>
<td>N</td>
<td>Address First line</td>
</tr>
</tbody></table>

<h2 id="create-a-site-for-a-vendor">Create a Site for a Vendor</h2>

<blockquote>
<p>Use this command:</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST https://api.xerts.io/api/vendors/:id/sites -d <span class="se">\</span>
  <span class="s2">"{ </span><span class="se">\</span><span class="s2">
    'title': 'string', </span><span class="se">\</span><span class="s2">
    'address': 'string', </span><span class="se">\</span><span class="s2">
    'gps': { </span><span class="se">\</span><span class="s2">
      'lat': 'float', </span><span class="se">\</span><span class="s2">
      'lng': 'float' </span><span class="se">\</span><span class="s2">
    } </span><span class="se">\</span><span class="s2">
  }"</span> <span class="se">\</span>
  -H <span class="s2">"API-Key: '&lt;Insert API Key here&gt;'"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d426a9c0-22fe-11e6-96a3-bdf7343ebeee"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Whal Burger NY East"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34 22nd East. St."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"gps"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"lat"</span><span class="p">:</span><span class="w"> </span><span class="s2">"101.890"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lng"</span><span class="p">:</span><span class="w"> </span><span class="s2">"22.456"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint creates a site for a vendor.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.xerts.io/api/vendors/:id/sites</code></p>

<aside class="notice">
`id` is always a GUID. Replace this with the member with `id` you are creating a
vendor for.
</aside>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>ID</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>title</td>
<td>Y</td>
<td>String</td>
<td>N</td>
<td>Site title (Branch/Franchise Location)</td>
</tr>
<tr>
<td>address</td>
<td>N</td>
<td>String</td>
<td>N</td>
<td>If an address is available, add it here</td>
</tr>
<tr>
<td>gps</td>
<td>N</td>
<td>String</td>
<td>N</td>
<td>If GPS position is available, add it here { lat: &#39;float&rsquo;, long: &#39;float&rsquo; }</td>
</tr>
</tbody></table>

<h2 id="add-a-site-admin">Add a Site Admin</h2>

<blockquote>
<p>Use this command:</p>
</blockquote>
<pre class="highlight shell"><code>curl -H <span class="s2">"Authorization: &lt;ACCESS_TOKEN&gt;"</span> -X PUT <span class="se">\ </span>https://api.xerts.io/api/sites/:id/admin -d <span class="se">\</span>
  <span class="s2">"{ </span><span class="se">\</span><span class="s2">
    'adminId': 'string' </span><span class="se">\</span><span class="s2">
  }"</span> <span class="se">\</span>
  -H <span class="s2">"API-Key: '&lt;Insert API Key here&gt;'"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"74651f00-22e8-11e6-953c-b1e050c9762d"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Danielhaven"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"069 Jayne Vista"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"gps"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">11.78</span><span class="p">,</span><span class="w">
      </span><span class="nt">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">83.0154</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"vendorId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7461eab0-22e8-11e6-953c-b1e050c9762d"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"adminId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d426a9c0-22fe-11e6-96a3-bdf7343ebeee"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint adds a user to a site. User must be owned by the vendor that owns the site.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.xerts.io/api/sites/:id/admin</code></p>

<aside class="notice">
`id` is always a GUID. Replace this with the member with `id` you are creating a
vendor for.
</aside>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>ID</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Y</td>
<td>String</td>
<td>Y</td>
<td>The ID of the site (embed in URL)</td>
</tr>
<tr>
<td>adminId</td>
<td>Y</td>
<td>String</td>
<td>Y</td>
<td>The ID of the user you want to set as admin of this site.</td>
</tr>
</tbody></table>

<h2 id="create-an-offer-for-a-vendor">Create an Offer for a Vendor</h2>

<blockquote>
<p>Use this command:</p>
</blockquote>
<pre class="highlight shell"><code>curl -H <span class="s2">"Authorization: &lt;ACCESS_TOKEN&gt;"</span> -X POST <span class="se">\ </span>https://api.xerts.io/api/vendors/:id/offers -d <span class="se">\</span>
  <span class="s2">"{ </span><span class="se">\</span><span class="s2">
    'title': 'string', </span><span class="se">\</span><span class="s2">
    'description': 'string', </span><span class="se">\</span><span class="s2">
    'styleBorderColor': 'string', </span><span class="se">\</span><span class="s2">
    'styleBackgroundColor': 'string', </span><span class="se">\</span><span class="s2">
    'featureImage': 'URL-String' </span><span class="se">\</span><span class="s2">
  }"</span> <span class="se">\</span>
  -H <span class="s2">"API-Key: '&lt;Insert API Key here&gt;'"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"58b52db0-22e6-11e6-b8de-1b32b0fa4bd3"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"West Bufordview"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Illo aliquid eos velit quod. Eveniet facere vitae officia. Aliquam veniam iste. Adipisci laboriosam rerum eum ad ut molestiae hic. Doloremque et sit beatae reiciendis nisi reprehenderit eum ut ea.\n \rId voluptas quia non sunt distinctio. Molestiae alias maxime veritatis blanditiis vitae voluptas vitae non maiores. Nam cupiditate voluptatibus est aut. Qui repudiandae reiciendis in cumque dicta amet ipsum.\n \rConsequatur et magnam. Dicta corporis quasi sint distinctio neque et quis et. Quo nemo iste eveniet quibusdam suscipit velit sed."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"styleBorderColor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mint green"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"styleBackgroundColor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blue"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"featureImage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://lorempixel.com/720/300/"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"vendorId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5887b510-22e6-11e6-b8de-1b32b0fa4bd3"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint adds an offer for a vendor. Vendor must be owned by logged in user to work.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.xerts.io/api/vendor/:id/offers</code></p>

<aside class="notice">
`id` is always a GUID. Replace this with the member with `id` you are creating a
vendor for.
</aside>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>ID</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>title</td>
<td>Y</td>
<td>String</td>
<td>N</td>
<td>The site title</td>
</tr>
<tr>
<td>description</td>
<td>Y</td>
<td>String</td>
<td>N</td>
<td>Description of the site</td>
</tr>
<tr>
<td>styleBorderColor</td>
<td>Y</td>
<td>String</td>
<td>N</td>
<td>Border color styling</td>
</tr>
<tr>
<td>styleBackgroundColor</td>
<td>Y</td>
<td>String</td>
<td>N</td>
<td>Background color styling</td>
</tr>
<tr>
<td>featureImage</td>
<td>Y</td>
<td>String</td>
<td>N</td>
<td>Feature image for offer/coupon.</td>
</tr>
<tr>
<td>vendorId</td>
<td>Y</td>
<td>String</td>
<td>N</td>
<td>Owning vendor ID</td>
</tr>
</tbody></table>

<h2 id="add-an-offer-to-a-site">Add an Offer to a Site</h2>

<blockquote>
<p>Use this command:</p>
</blockquote>
<pre class="highlight shell"><code>curl -H <span class="s2">"Authorization: &lt;ACCESS_TOKEN&gt;"</span> -X PUT <span class="se">\ </span>https://api.xerts.io/api/offers/:id/sites/rel/:siteId -d <span class="se">\</span>
  <span class="s2">"{ </span><span class="se">\</span><span class="s2">
    'instanceCost': 0.12, </span><span class="se">\</span><span class="s2">
    'instanceLimit': 1000, </span><span class="se">\</span><span class="s2">
    'instanceIssues': 3, </span><span class="se">\</span><span class="s2">
    'totalCost': 120.00, </span><span class="se">\</span><span class="s2">
    'instanceExpiresOn': '2017-05-26' </span><span class="se">\</span><span class="s2">
  }"</span> <span class="se">\</span>
  -H <span class="s2">"API-Key: '&lt;Insert API Key here&gt;'"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"748ec710-22e8-11e6-953c-b1e050c9762d"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"instanceCost"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12</span><span class="p">,</span><span class="w">
  </span><span class="nt">"instanceLimit"</span><span class="p">:</span><span class="w"> </span><span class="mi">1010</span><span class="p">,</span><span class="w">
  </span><span class="nt">"instanceIssues"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"totalCost"</span><span class="p">:</span><span class="w"> </span><span class="mf">121.19999999999999</span><span class="p">,</span><span class="w">
  </span><span class="nt">"instanceExpiresOn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-26"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"offerId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"748d1960-22e8-11e6-953c-b1e050c9762d"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"siteId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"74651f00-22e8-11e6-953c-b1e050c9762d"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint assigns an offer to a site. If an offer is assigned to a site, clients can receive coupons based on those offers at their sites.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://api.xerts.io/api/offers/:id/sites/rel/:siteId</code></p>

<aside class="notice">
`id` and `siteId` are always a GUID.
</aside>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>ID</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>instanceCost</td>
<td>Y</td>
<td>String</td>
<td>N</td>
<td>Cost per coupon</td>
</tr>
<tr>
<td>instanceLimit</td>
<td>Y</td>
<td>String</td>
<td>N</td>
<td>Maximum number of coupons to be issued</td>
</tr>
<tr>
<td>instanceIssues</td>
<td>Y</td>
<td>String</td>
<td>N</td>
<td>Number of coupons been issued</td>
</tr>
<tr>
<td>totalCost</td>
<td>Y</td>
<td>String</td>
<td>N</td>
<td>Total cost of campaign, given instanceCost and instanceLimit</td>
</tr>
<tr>
<td>instanceStartIssueOn</td>
<td>N</td>
<td>String</td>
<td>N</td>
<td>Time of first coupon issue</td>
</tr>
<tr>
<td>instanceLastIssueOn</td>
<td>N</td>
<td>String</td>
<td>N</td>
<td>Last time a coupon was issued</td>
</tr>
<tr>
<td>instanceExpiresOn</td>
<td>N</td>
<td>String</td>
<td>N</td>
<td>expiry date of offer at site</td>
</tr>
</tbody></table>

<h2 id="get-all-coupons-for-a-site">Get all coupons for a Site</h2>

<blockquote>
<p>Use this command to get only site-specific coupons for device:</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST https://api.xerts.io/api/sites/:siteId/coupons <span class="se">\</span>
  -H <span class="s2">"API-Key: '&lt;Insert API Key here&gt;'"</span>
</code></pre>

<blockquote>
<p>The above commands return JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">36</span><span class="p">,</span><span class="w">
      </span><span class="nt">"redeemCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"D068Y"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"redeemedOn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-30T06:54:36.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"deviceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"656e6b6d-6a69-4e48-b66c-b917d3561ef0"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"siteOfferId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f750170-2633-11e6-a10f-a197e0a3258d"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"offer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f732cb0-2633-11e6-a10f-a197e0a3258d"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"North Lucileton"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Quia aut unde quas consequuntur qui corporis maxime. Eum expedita consequatur dolore veritatis doloribus ullam perspiciatis. Aliquam aut sint atque. Quas autem officia et tempore sit reprehenderit veritatis dignissimos quidem.\n \rIpsa excepturi numquam nemo. Distinctio ad non est quo atque consequatur. Provident nihil accusantium qui. Necessitatibus soluta suscipit nobis commodi nihil deserunt sint corrupti recusandae. Itaque et et voluptas perspiciatis impedit quas quae aut.\n \rCommodi aspernatur provident odio beatae temporibus nam libero. Nihil enim voluptatum nostrum unde. Itaque velit consequuntur. Voluptas atque doloribus eligendi. Qui minima velit voluptates."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"styleBorderColor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mint green"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"styleBackgroundColor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"azure"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"featureImage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://lorempixel.com/720/300/"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"vendorId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f440660-2633-11e6-a10f-a197e0a3258d"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint gets all coupons for site with <code class="prettyprint">siteId</code>.</p>

<aside class="notice">
Remember, `siteId` is a GUID, and should look something like this: 03548350-25fe-11e6-b93a-dd966e070e71
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.xerts.io/api/sites/:siteId/coupons</code></p>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>ID</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>

<h1 id="reporting-endpoints">Reporting Endpoints</h1>

<h2 id="get-coupon-reports-for-vendors">Get Coupon Reports for vendors</h2>

<blockquote>
<p>Use this command:</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET https://api.xerts.io/api/reporting/vendors/:id?from<span class="o">=</span>28-07-2016&amp;to<span class="o">=</span>14-08-2016 <span class="se">\</span>
  -H <span class="s2">"API-Key: '&lt;Insert API Key here&gt;'"</span>
  -H <span class="s2">"Authorization: '&lt;Insert Authorization here&gt;'"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"totalCouponsIssued"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="nt">"totalCouponsRedeemed"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nt">"sites"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"58c4fd10-31e5-11e6-n0a9-d3c289387tga"</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"58c4fd10-31e5-11e6-n0a9-d3c289387tga"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"O\\'connel Street Bakery"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"activeOffers"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"couponsIssued"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
            </span><span class="nt">"couponsRedeemed"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"68c5fd11-31e5-11e6-n0a9-d3c289387tga"</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"68c5fd11-31e5-11e6-n0a9-d3c289387tga"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Main North Road On the Run"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"activeOffers"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"couponsIssued"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nt">"couponsRedeemed"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"78d5fd14-31e6-11e6-n0a9-d3c289387tga"</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"78d5fd14-31e6-11e6-n0a9-d3c289387tga"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Anzac Hwy On the Run"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"activeOffers"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"couponsIssued"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="nt">"couponsRedeemed"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"28-07-2016"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14-08-2016"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.xerts.io/api/reporting/vendors/:id?from=dd-mm-yyyy&amp;to=dd-mm-yyyy</code></p>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>ID</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Y</td>
<td>String</td>
<td>Y</td>
<td>vendor ID - unique identifier for the site</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Query</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>from</td>
<td>Y</td>
<td>date from - the earliest date you want the range for</td>
</tr>
<tr>
<td>to</td>
<td>N</td>
<td>date to - the latest date you want the range for</td>
</tr>
</tbody></table>

<h2 id="get-coupon-reports-for-a-site">Get coupon reports for a site</h2>

<blockquote>
<p>Use this command:</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET https://api.xerts.io/api/reporting/sites/:id?from<span class="o">=</span>28-07-2016&amp;to<span class="o">=</span>14-08-2016 <span class="se">\</span>
  -H <span class="s2">"API-Key: '&lt;Insert API Key here&gt;'"</span>
  -H <span class="s2">"Authorization: '&lt;Insert Authorization here&gt;'"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"totalCouponsIssued"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="nt">"totalCouponsRedeemed"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nt">"vendors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"48c4fd10-31e5-11e6-n0a9-d3c289387tga"</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48c4fd10-31e5-11e6-n0a9-d3c289387tga"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dymocks Books"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"activeOffers"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nt">"couponsIssued"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
            </span><span class="nt">"couponsRedeemed"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"48c5fd11-31e5-11e6-n0a9-d3c289387tga"</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48c5fd11-31e5-11e6-n0a9-d3c289387tga"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mayhem Fireworks Co."</span><span class="p">,</span><span class="w">
            </span><span class="nt">"activeOffers"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nt">"couponsIssued"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nt">"couponsRedeemed"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"48d5fd14-31e6-11e6-n0a9-d3c289387tga"</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48d5fd14-31e6-11e6-n0a9-d3c289387tga"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Amazing Harry\'s Delicious Candy"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"activeOffers"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
            </span><span class="nt">"couponsIssued"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="nt">"couponsRedeemed"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"28-07-2016"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14-08-2016"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint gets all vendor coupons issued and redeemed for a site between two dates. If the <code class="prettyprint">to</code> query parameter is not provided, system will give all stats up to now.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.xerts.io/api/reporting/sites/:id?from=dd-mm-yyyy&amp;to=dd-mm-yyyy</code></p>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>ID</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Y</td>
<td>String</td>
<td>Y</td>
<td>site ID - unique identifier for the site</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Query</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>from</td>
<td>Y</td>
<td>date from - the earliest date you want the range for</td>
</tr>
<tr>
<td>to</td>
<td>N</td>
<td>date to - the latest date you want the range for</td>
</tr>
</tbody></table>

<h1 id="debug-developers">Debug (developers)</h1>

<h2 id="add-a-client-device">Add a Client Device</h2>

<blockquote>
<p>Use this command:</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST https://api.xerts.io/api/device/ -d <span class="se">\</span>
  <span class="s2">"{ </span><span class="se">\</span><span class="s2">
    'id': 'xxxx-xxxx-xxxx-xxxxx', </span><span class="se">\</span><span class="s2">
    'deviceModel': 'iPhone 6s', </span><span class="se">\</span><span class="s2">
    'deviceOs': 'iOS 9.3' </span><span class="se">\</span><span class="s2">
  }"</span> <span class="se">\</span>
  -H <span class="s2">"API-Key: '&lt;Insert API Key here&gt;'"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89611c2c-f016-4e3b-8078-6abe40550552"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"deviceModel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iPhone 6s"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"deviceOs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iOS 9.3"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint creates a client device in the system. At this time there are no users associated devices, but this will change in future versions.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.xerts.io/api/devices</code></p>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>ID</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Y</td>
<td>String</td>
<td>Y</td>
<td>A unique identifier for the device will be posted to the API, generated by the client device it&rsquo;s self.</td>
</tr>
<tr>
<td>deviceModel</td>
<td>N</td>
<td>String</td>
<td>N</td>
<td>Device model eg. iPhone 7</td>
</tr>
<tr>
<td>deviceOs</td>
<td>N</td>
<td>String</td>
<td>N</td>
<td>The operating system and version number.</td>
</tr>
</tbody></table>

<h2 id="check-if-a-device-exists">Check if a device exists</h2>

<blockquote>
<p>Use this command:</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST https://api.xerts.io/api/device/:id <span class="se">\</span>
  -H <span class="s2">"API-Key: '&lt;Insert API Key here&gt;'"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"exists"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint checks if a device exists.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.xerts.io/api/devices/:id</code></p>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>ID</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Y</td>
<td>String</td>
<td>Y</td>
<td>A unique identifier for the device will be posted to the API, generated by the client device it&rsquo;s self.</td>
</tr>
</tbody></table>

          <h1 id="errors">Errors</h1>

<aside class="notice">This error section was last modified on 1st June 2016</aside>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request sucks</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; The puppy requested is hidden for administrators only</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified puppy could not be found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access a puppy with an invalid method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json</td>
</tr>
<tr>
<td>410</td>
<td>Gone &ndash; The puppy requested has been removed from our servers</td>
</tr>
<tr>
<td>418</td>
<td>I&rsquo;m a teapot</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; You&rsquo;re requesting too many puppies! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarially offline for maintanance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
